<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Join Us - Make a Difference for Children with Autism</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta name="keywords"
        content="join NY Special Care, autism care team, volunteer for autism programs, donate for autism support, join our mission for children with autism, partnership for autism support, make a difference in child development">
    <meta name="description"
        content="Join NY Special Care in supporting children with autism. Whether you choose to donate, volunteer, or partner with us, your contribution helps improve the lives of children and their families. Together, we can make a lasting impact.">

    <!-- Favicon -->
    <link href="img/ny-special-care-logo.png" rel="icon" type="image/png" sizes="32x32">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Heebo:wght@400;500;600&family=Inter:wght@600&family=Lobster+Two:wght@700&display=swap"
        rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/animate/animate.min.css" rel="stylesheet">
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="css/bootstrap.min.css" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="css/style.css" rel="stylesheet">
</head>

<body>
    <div class="container-xxl bg-white p-0">
        <!-- Spinner Start -->
        <div id="spinner"
            class="show bg-white position-fixed translate-middle w-100 vh-100 top-50 start-50 d-flex align-items-center justify-content-center">
            <div class="spinner-border text-primary" style="width: 3rem; height: 3rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <!-- Spinner End -->

        <!-- Navbar Start -->
        <nav class="navbar navbar-expand-lg bg-white navbar-light sticky-top px-4 px-lg-5 py-lg-0">
            <a href="index.html" class="navbar-brand">
                <h1 class="m-0 text-primary"><img src="img/ny-special-care-logo.png" alt="NY Special Care Logo"
                        style="width: 66px; height: auto; margin-right: 6px;">
                    NY Special Care</h1>
            </a>
            <button type="button" class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#navbarCollapse">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarCollapse">
                <div class="navbar-nav mx-auto">
                    <a href="index.html" class="nav-item nav-link">Home</a>
                    <a href="https://donate.stripe.com/3cs7we8fC36peeAfZ1" class="nav-item nav-link">Donate</a>
                    <a href="join-us.html" class="nav-item nav-link">Join Us</a>
                    <a href="about.html" class="nav-item nav-link">About Us</a>
                    <a href="career.html" class="nav-item nav-link">Career</a>
                </div>
                <a href="contact.html" class="btn btn-primary rounded-pill px-3 d-none d-lg-block">Contact Us</a>
            </div>
        </nav>
        <!-- Navbar End -->

        <!-- Page Header Start -->
        <div class="container-xxl py-5 page-header position-relative mb-5">
            <div class="container py-5">
                <h1 class="display-2 text-white animated slideInDown mb-4"
                    style="margin-left: 30px; margin-right: 30px;">New Client Intake Form </h1>
                <h1 class="display-5 text-white animated slideInDown mb-4"
                    style="margin-left: 30px; margin-right: 30px;"> (客户资料登记表) </h1>
            </div>
        </div>
        <!-- Page Header End -->
        <p style="margin-left: 30px; margin-right: 30px; margin-bottom: 0px;">All information entered must be in ENGLISH
        </p>
        <p style="margin-left: 30px; margin-right: 30px;">所有资料必须用英文填写</p>
        <!-- New Client Form Start -->
        <div class="container py-5">
            <form id="intakeForm">
                <!-- New Patient Section -->
                <div class="row mb-3">
                    <div class="col-12">
                        <h3><strong>Client Basic Information (客户基本信息)</h3>
                        <hr> <!-- Solid line -->
                    </div>
                </div>

                <!-- Child's First Name and Last Name -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="childFirstName" class="form-label">Child's First Name (孩子名字) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="childFirstName" name="childFirstName" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="childLastName" class="form-label">Child's Last Name (孩子姓氏) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="childLastName" name="childLastName" class="form-control" required>
                    </div>
                </div>

                <!-- Date of Birth and Sex -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="dateOfBirth" class="form-label">Child's Date of Birth (出生日期) <span
                                style="color: red;">*</span></label>
                        <input type="date" id="dateOfBirth" name="dateOfBirth" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="sex" class="form-label">Sex (性别) <span style="color: red;">*</span></label>
                        <select id="sex" name="sex" class="form-control" required>
                            <option value="" selected disabled>Select Sex (选择性别)</option>
                            <option value="male">Male (男)</option>
                            <option value="female">Female (女)</option>
                            <option value="other">Other (其他)</option>
                        </select>
                    </div>
                </div>

                <div class="row mb-3">
                    <div class="col-12">
                        <h3><strong>Parent/Guardian Basic Informantion (家长基本信息)</h3>
                        <hr> <!-- Solid line -->
                    </div>
                </div>
                <!-- Parent's Information -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="parentFirstName" class="form-label">Parent's First Name (家长名字) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="parentFirstName" name="parentFirstName" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="parentLastName" class="form-label">Parent's Last Name (家长姓氏) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="parentLastName" name="parentLastName" class="form-control" required>
                    </div>
                </div>

                <!-- Email and Mobile Number -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="email" class="form-label">Email Address (电子邮箱) <span
                                style="color: red;">*</span></label>
                        <input type="email" id="email" name="email" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="mobile" class="form-label">Mobile Number (联系电话) <span
                                style="color: red;">*</span></label>
                        <input type="tel" id="mobile" name="mobile" class="form-control" required>
                    </div>
                </div>

                <!-- Address Information -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="street" class="form-label">Street Address (街道) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="street" name="street" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="apt" class="form-label">Apt / Suite (公寓)</label>
                        <input type="text" id="apt" name="apt" class="form-control">
                    </div>
                </div>

                <!-- City, State, and Zip -->
                <div class="row mb-3">
                    <div class="col-md-4">
                        <label for="city" class="form-label">City (居住城市)</label>
                        <input type="text" id="city" name="city" class="form-control">
                    </div>
                    <div class="col-md-4">
                        <label for="state" class="form-label">State (州)</label>
                        <input type="text" id="state" name="state" class="form-control">
                    </div>
                    <div class="col-md-4">
                        <label for="zip" class="form-label">Zip Code (邮编)</label>
                        <input type="text" id="zip" name="zip" class="form-control">
                    </div>
                </div>
                <div class="row mb-3">
                    <div class="col-12">
                        <h3><strong>Billing Informantion (账单信息)</h3>
                        <hr> <!-- Solid line -->
                    </div>
                </div>
                <!-- Insurance Information -->
                <div class="row mb-3">
                    <div class="col-md-6">
                        <label for="insurancePlan" class="form-label">Insurance Plan (保险计划) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="insurancePlan" name="insurancePlan" class="form-control" required>
                    </div>
                    <div class="col-md-6">
                        <label for="idNum" class="form-label">ID Number (保险卡号) <span
                                style="color: red;">*</span></label>
                        <input type="text" id="idNum" name="idNum" class="form-control" required>
                    </div>
                </div>

                <button type="submit" class="btn btn-primary btn-lg">Submit (提交)</button>
            </form>
            <div id="loadingOverlay" style="
            display: none;
            position: fixed;
            top: 0; left: 0;
            width: 100vw; height: 100vh;
            background: rgba(255, 255, 255, 0.8);
            z-index: 9999;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            font-weight: bold;
            color: #333;
        ">
                Submitting...
            </div>

            <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
            <script type="module">
                // Use axios as a global variable
                document.getElementById('intakeForm').addEventListener('submit', async (e) => {
                    e.preventDefault();

                    const loadingOverlay = document.getElementById('loadingOverlay');
                    loadingOverlay.style.display = 'flex'; // Show overlay

                    const formData = {
                        childFirstName: document.getElementById('childFirstName').value,
                        childLastName: document.getElementById('childLastName').value,
                        dateOfBirth: document.getElementById('dateOfBirth').value,
                        sex: document.getElementById('sex').value,
                        mobile: document.getElementById('mobile').value,
                        parentFirstName: document.getElementById('parentFirstName').value,
                        parentLastName: document.getElementById('parentLastName').value,
                        email: document.getElementById('email').value,
                        street: document.getElementById('street').value,
                        apt: document.getElementById('apt').value || '',
                        city: document.getElementById('city').value || '',
                        state: document.getElementById('state').value || '',
                        zip: document.getElementById('zip').value || '',
                        insurancePlan: document.getElementById('insurancePlan').value,
                        idNum: document.getElementById('idNum').value,
                    };

                    try {
                        const response = await axios.post('/api/send-intake-form', formData);
                        if (response.status === 200) {
                            alert('Form sent successfully!');
                            document.getElementById('intakeForm').reset();
                        } else {
                            alert('Failed to send form. Please try again later.');
                        }
                    } catch (error) {
                        console.error('Error:', error);
                        alert('An error occurred. Please try again.');
                    } finally {
                        loadingOverlay.style.display = 'none'; // Hide overlay
                    }
                });

            </script>
        </div>
        <!-- New Client Form End -->

        <!-- Back to Top -->
        <a href="#" class="btn btn-lg btn-primary btn-lg-square back-to-top"><i class="bi bi-arrow-up"></i></a>
        <!-- JavaScript Libraries -->
        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
        <script src="lib/wow/wow.min.js"></script>
        <script src="lib/easing/easing.min.js"></script>
        <script src="lib/waypoints/waypoints.min.js"></script>
        <script src="lib/owlcarousel/owl.carousel.min.js"></script>

        <!-- Template Javascript -->
        <script src="js/main.js"></script>
</body>

</html>